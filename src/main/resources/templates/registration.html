<!DOCTYPE html>
<html xmlns="http://www.thymeleaf.org">

<head>
<meta charset="utf-8" />
<title>User Registration</title>
<link th:href="@{/css/bootstrap.min.css}" rel="stylesheet" />
<link th:href="@{/css/style.css}" rel="stylesheet" />
<!-- <link th:href="@{css/bootstrap-datepicker3.css}" rel="stylesheet" />-->
<link th:href="@{/css/font-awesome.min.css}" rel="stylesheet" /> 
<meta name="context-path" th:content="@{/}"/>
<meta name="ctx" th:content="${#httpServletRequest.getContextPath()}" />
<script th:src="@{/js/jquery.min.js}"></script>
<script th:src="@{/js/bootstrap.min.js}"></script>
 <!--<script src="js/validator.min.js"></script>
<script src="js/bootstrap-datepicker.min.js"></script> -->
<script th:src="@{/js/registration.js}"></script>
<style type="text/css">
$custom-file-text: (
  en: "Browse",
  nl: "Elegir"
);

</style>
<script type="text/javascript">
$('.custom-file-input').on('change', function() {
    let fileName = $(this).val().split('\\').pop();
    $(this).siblings('.custom-file-label').addClass('selected').html(fileName);
});
</script>
</head>

<body class="gray-bg">

  <div class="middle-box text-center animated fadeInDown" style="padding-top: 0px;">
    <div class="row" style="padding: 0px; margin: 2px 0px;">
      <div class="col-md-5" style="text-align: left;">
      <div class="row">
        <a th:if="${currentUser}" th:href="@{/logout}"><span th:text="#{label.logout}"></span></a>
        <a th:if="${currentUser == null}" th:href="@{/login}"><span th:text="#{label.login}"></span></a>
        <span th:text ="${authentication?.getPrincipal()?.getUsername()}"></span>
         <span style="padding-left: 2px;" th:text ="${currentUser}"></span>
         </div>
      </div>
     
      <div class="col-md-7" style="text-align: right;">
        <a th:href="@{/?lang=en}"><span th:text="#{label.english}"></span></a>&nbsp;|&nbsp;
        <a th:href="@{/?lang=nl}"><span th:text="#{label.dutch}"></span></a>&nbsp;|&nbsp;
        <a th:href="@{/?lang=ur}"><span th:text="#{label.urdu}"></span></a>
      </div>
    </div>

      <h2 style="margin-top: 0px;"><strong th:text="#{registration.title}"></strong></h2>

      <form id="registration" autocomplete="off" action="#" th:action="@{/}" th:object="${user}" method="post" class="form-horizontal" role="form" data-toggle="validator">

        <div id="confirmationMessage" th:if="${confirmationMessage}" class="alert alert-success" role="alert" th:text="${confirmationMessage}"></div>
        <div id="validationMessage" th:if="${validationMessage}" class="alert alert-danger" role="alert" th:text="${validationMessage}"></div>
        
        <input type="hidden" id="enabled" name="active" value=false></input>
        <input type="hidden" id="confirmationToken" name="confirmationToken" th:field="*{confirmationToken}"></input>
        <fieldset class="fieldset" >
        <div class="form-group" style="margin-bottom:0px;">
          <legend style="margin-bottom:5px;"> <h4 class="text-left" th:text="#{registration.label.personal}"></h4> </legend>
          <div class=" input-group has-feedback" style="margin-bottom: 0px">
           <!--  <label th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="validation-message"></label> -->
            <span class="input-group-addon"><span class="glyphicon glyphicon-user"></span></span>
            <div class="row" data-toggle="tooltip" th:title="#{registration.label.fullname}">
              <div class="col-md-8">
                <input type="text" th:field="*{name}" th:placeholder="#{registration.label.fullname}" class="form-control" required />
                <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
              </div>
              <div class="col-md-3" style="padding: 0px;">
                <div class="row" style="margin: 0px;">
                  <label class="radio-inline"><input type="radio" name="gender" th:field="*{gender}" value="M" th:text="#{registration.label.male}" data-toggle="tooltip" th:title="#{registration.tooltip.genderMale}" required ></label>
                  <label class="radio-inline"><input type="radio" name="gender" th:field="*{gender}" value="F" th:text="#{registration.label.female}" data-toggle="tooltip" th:title="#{registration.tooltip.genderFemale}"></label>
                </div>
              </div>
            </div>
          </div>

          <div class="input-group">
            <span class="input-group-addon"><span class="glyphicon glyphicon-home"></span></span>
            <div class="row">
              <div class=" has-feedback col-md-6" >
                <input type="text" th:field="*{address.street}" th:placeholder="#{registration.label.address}" class="form-control input-md" required data-toggle="tooltip" th:title="#{registration.label.address}"/>
                <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
              </div>
              <div class=" has-feedback col-md-6" style="padding-left:0px;">
               <input type="text" th:field="*{address.postcode}" th:placeholder="#{registration.label.postcode}" class="form-control" data-toggle="tooltip" th:title="#{registration.label.postcode}"/>
                <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
              </div>
            </div>
            <div class="row">
             <div class=" has-feedback col-md-6" >
                <input type="text" th:field="*{address.city}" th:placeholder="#{registration.label.city}" class="form-control input-md" required data-toggle="tooltip" th:title="#{registration.label.city}"/>
                <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
              </div>
              <div class=" has-feedback col-md-6" style="padding-left:0px;">
                <input type="text" th:field="*{address.state}" th:placeholder="#{registration.label.state}" class="form-control" data-toggle="tooltip" th:title="#{registration.label.state}"/>
                <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
              </div>
             
            </div>
          </div>

          <div class="input-group">
            <span class="input-group-addon"><span class="glyphicon glyphicon-envelope"></span></span>
            <div class="row">
              <div class=" has-feedback col-md-6" style="margin-bottom: 0px;">
                <input type="email" th:field="*{email}" th:placeholder="#{registration.label.email}" class="form-control" data-error="This email address is invalid" required data-toggle="tooltip" th:title="#{registration.label.email}"/>
                <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
              </div>
              <div class="col-md-1" style="width:8%;padding:0px;">
                <span class="input-group-addon form-control" ><span class="glyphicon glyphicon-phone-alt"></span></span>
              </div>
              <div class=" has-feedback col-md-6" style="width:41.5%;padding-left:0px;margin-bottom: 0px;">
                <input type="tel" th:field="*{phone}" th:placeholder="#{registration.label.phone}" class="form-control" required data-toggle="tooltip" th:title="#{registration.label.phone}"/>
                <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
              </div>
            </div>
          </div>

          <div class="input-group">
            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
            <div class="row">
              <div class=" has-feedback col-md-6 " style="margin-bottom: 0px;">
               <input class="form-control date" style="padding-right:10px;" name="dateOfBirth" type="text"  th:field="*{dateOfBirth}" th:placeholder="#{registration.label.dob}" onfocus="(this.type='date')" onblur="(this.type='text')" data-toggle="tooltip" th:title="#{registration.label.dob}"/>
                <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
              </div>
              <div class="col-md-1" style="width:8%;padding:0px;">
                <span class="input-group-addon form-control" ><span class="fa fa-bed"></span></span>
              </div>
              <div class=" has-feedback col-md-6" style="width:41.5%;padding-left:0px;margin-bottom: 0px;">
               <input type="text" th:field="*{placeOfBirth}" th:placeholder="#{registration.label.pob}" class="form-control" required data-toggle="tooltip" th:title="#{registration.label.pob}"/>
                <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
              </div>
            </div>
          </div>
          
          <div class="input-group">
            <span class="input-group-addon"><span class="glyphicon glyphicon-info-sign"></span></span>
            <div class="row">
              <div class=" has-feedback col-md-6" style="margin-bottom: 0px;">
                <input id="msg" type="text" class="form-control" th:field="*{bsnNum}" name="bsnNum" th:placeholder="#{registration.label.bsn}" data-toggle="tooltip" th:title="#{registration.label.bsn}">
                <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
              </div>
              <div class="col-md-1" style="width:8%;padding:0px;">
                <span class="input-group-addon form-control" ><span class="fa fa-group"></span></span>
              </div>
              <div class=" has-feedback col-md-6" style="width:41.5%;padding-left:0px;margin-bottom: 0px;" data-toggle="tooltip" th:title="#{registration.label.martial}">
                <select class="form-control" th:field="*{martialStatus}" id="martial" required>
                <option value="" th:text="#{registration.label.martial}" selected="selected" style="display:none;"></option>
                <option value="Single" th:text="#{registration.label.single}"></option>
                <option value="Married" th:text="#{registration.label.married}"></option>
                <option value="Divorced" th:text="#{registration.label.divorced}"></option>
                <option value="Widowed" th:text="#{registration.label.widowed}"></option>
              </select>
              <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
              </div>
            </div>
          </div>
         
         <!--  <div class="checkbox" style="text-align: left;">
            <label><input type="checkbox" th:field="*{healthy}" th:checked="${healthy}" value="${true}" /> <span th:text="#{registration.label.allHealthy}"></span></label>
          </div> -->
          <div class="input-group" style="text-align: left">
            <label for="fileupload" style="font-weight: lighter;" ><span th:text="#{registration.label.identificationTypes}"></span></label>
            <input type="file" name="docs" id="file" th:field="*{docs}" class="inputfile" data-show-caption="true" th:text="*{docs}" required/>
            
 <!--            
           <div class="custom-file">
  <input type="file" class="custom-file-input" id="customFile">
  <label class="custom-file-label" for="exampleInputFile">
           Select file...
        </label>
</div> -->

          </div>
        </div>
       </fieldset>
        <div class="form-group input-group" style="text-align: left;">
          <a th:href="@{/files/__${user.id}__(file=*{docs})}" th:text="*{docs}" />
       </div>
       <fieldset class="fieldset">
        <!-- Partner Details -->
        <div id= "spouse" class="form-group" style="display: none;">
          <legend style="margin-bottom:5px;"> <h4 class="text-left" th:text="#{registration.label.spouse}"></h4> </legend>
          <div class="partner-group">
	          <div class="input-group has-feedback">
	            <label th:if="${#fields.hasErrors('partner.name')}" th:errors="*{partner.name}" class="validation-message"></label>
	            <span class="input-group-addon"><span class="glyphicon glyphicon-user"></span></span>
	            <div class="row">
	              <div class="col-md-8" style="padding-right: 0px;">
	                <input id="name" type="text" th:field="*{partner.name}" th:placeholder="#{registration.label.fullname}" class="form-control" data-toggle="tooltip" th:title="#{registration.label.fullname}"/>
	                <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
	              </div>
	              <div class="col-md-3" style="padding: 0px;">
	                <div class="row" style="margin: 0px;">
	                  <label class="radio-inline"><input id="male" type="radio" th:field="*{partner.gender}" name="partner.gender" value="M" th:text="#{registration.label.male}" data-toggle="tooltip" th:title="#{registration.tooltip.genderMale}"></label>
	                  <label class="radio-inline"><input id="female" type="radio" th:field="*{partner.gender}" name="partner.gender" value="F" th:text="#{registration.label.female}" data-toggle="tooltip" th:title="#{registration.tooltip.genderFemale}"></label>
	                </div>
	              </div>
	            </div>
	          </div>
	          <div class="input-group">
	            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
	            <div class="row">
	              <div class=" has-feedback col-md-6" style="margin-bottom: 0px;">
	                <input id="date" class="form-control date" style="padding-right:10px;" name="partner.dateOfBirth" type="text" th:field="*{partner.dateOfBirth}" th:placeholder="#{registration.label.dob}" onfocus="(this.type='date')" onblur="(this.type='text')" data-toggle="tooltip" th:title="#{registration.label.dob}"/>
	                <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
	              </div>
	              <div class="col-md-1" style="width:8%;padding:0px;">
	                <span class="input-group-addon form-control" ><span class="fa fa-bed"></span></span>
	              </div>
	              <div class=" has-feedback col-md-6" style="width:41.5%;padding:0px;margin-bottom: 0px;">
	                <input id="pob" type="text" th:field="*{partner.placeOfBirth}" th:placeholder="#{registration.label.pob}" class="form-control" data-toggle="tooltip" th:title="#{registration.label.pob}"/>
	                <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
	              </div>
	            </div>
	          </div>
	          <div class="input-group">
	            <span class="input-group-addon"><span class="glyphicon glyphicon-info-sign"></span></span>
	            <div class="row">
	              <div class=" has-feedback col-md-6" style="margin-bottom: 0px;">
	                <input id="bsn" type="text" class="form-control" th:field="*{partner.bsnNum}" name="partner.bsnNum" th:placeholder="#{registration.label.bsn}" data-toggle="tooltip" th:title="#{registration.label.bsn}">
	                <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
	              </div>
	     <!--          <div class="checkbox has-feedback col-md-6" style="text-align: left;">
	                <label><input type="checkbox" th:field="*{partner.healthy}" th:checked="${healthy}" value="${true}" /> is healthy</label>
	                <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
	              </div> -->
	            </div>
	          </div>
          </div>
        </div>
        
        
        <!-- Children Details -->
        <div id="kids" class="form-group dependents" style="margin-bottom:0px;">
        <div class="row">
          <legend class="col-md-10" style="margin-bottom:5px;">  <h4 class="text-left" th:text="#{registration.label.kids}"></h4> </legend>
          <span class="col-sm-1 row-add-button">
            <button id="addDependent" data-toggle="tooltip" data-placement="top" th:title="#{registration.button.addKids}">
              <i class="glyphicon glyphicon-plus icon-white"></i>
            </button>
          </span>
         </div>
          <div class="dependent-group" th:each="children, rowStat : *{childrens}">
            <div class="input-group">
              <span class="input-group-addon"><span class="glyphicon glyphicon-user"></span></span>
              <div class="row">
              <div class="col-md-8" style="padding-right: 0px;">
                <input type="text" th:field="*{childrens[__${rowStat.index}__].name}" th:placeholder="#{registration.label.fullname}" class="form-control" data-toggle="tooltip" th:title="#{registration.label.fullname}"/>
                <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
              </div>
              <div class="col-md-3" style="padding: 0px;">
                <div class="row" style="margin: 0px;">
                  <label class="radio-inline"><input type="radio" th:field="*{childrens[__${rowStat.index}__].gender}" name="partGen" value="M" th:text="#{registration.label.male}" data-toggle="tooltip" th:title="#{registration.tooltip.genderMale}"></label>
                  <label class="radio-inline"><input type="radio" th:field="*{childrens[__${rowStat.index}__].gender}" name="partGen" value="F" th:text="#{registration.label.female}" data-toggle="tooltip" th:title="#{registration.tooltip.genderFemale}"></label>
                </div>
              </div>
            </div>
            </div>
            <div class="input-group">
            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
            <div class="row">
              <div class=" has-feedback col-md-6" style="margin-bottom: 0px;">
                <input class="form-control date" th:field="*{childrens[__${rowStat.index}__].dateOfBirth}" th:placeholder="#{registration.label.dob}" type="text"  data-toggle="tooltip" th:title="#{registration.label.dob}"/>
                <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
              </div>
              <div class="col-md-1" style="width:8%;padding:0px;">
                <span class="input-group-addon form-control" ><span class="fa fa-bed"></span></span>
              </div>
              <div class=" has-feedback col-md-6" style="width:41.5%;padding:0px;margin-bottom: 0px;">
                <input type="text" th:field="*{childrens[__${rowStat.index}__].placeOfBirth}" th:placeholder="#{registration.label.pob}" class="form-control" data-toggle="tooltip" th:title="#{registration.label.pob}"/>
                <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
              </div>
            </div>
            </div>
            <div class="input-group">
            <span class="input-group-addon"><span class="glyphicon glyphicon-info-sign"></span></span>
            <div class="row">
              <div class=" has-feedback col-md-6" style="margin-bottom: 0px;">
                <input id="msg" type="text" class="form-control" th:field="*{childrens[__${rowStat.index}__].bsnNum}" th:placeholder="#{registration.label.bsn}" data-toggle="tooltip" th:title="#{registration.label.bsn}">
                <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
              </div>
              <!-- <div class="checkbox has-feedback col-md-6" style="text-align: left;">
                <label><input type="checkbox" th:field="*{childrens[__${rowStat.index}__].healthy}" th:checked="${healthy}" value="${true}" /> is healthy</label>
                <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
              </div> -->
            </div>
          </div>
          </div>
        </div>

        <!-- Other Contact Details -->
        <div class="form-group">
          <legend style="margin-bottom:5px;"> <h4 class="text-left" th:text="#{registration.label.otherContacts}"></h4> </legend>
          <div class="input-group has-feedback">

            <span class="input-group-addon"><span class="glyphicon glyphicon-user"></span></span>
            <div class="row">
              <div class="col-md-8" style="padding-right: 0px;">
                <input type="text" th:placeholder="#{registration.label.fullname}" class="form-control" th:field="*{otherContactUserName}" data-toggle="tooltip" th:title="#{registration.label.fullname}"/>
                <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
              </div>
              <div class="col-md-3" style="padding: 0px;">
                <div class="row" style="margin: 0px;">
                  <label class="radio-inline"><input type="radio" name="otherContactGender" th:field="*{otherContactGender}" value="M" th:text="#{registration.label.male}" data-toggle="tooltip" th:title="#{registration.tooltip.genderMale}"></label>
                  <label class="radio-inline"><input type="radio" name="otherContactGender" th:field="*{otherContactGender}" value="F" th:text="#{registration.label.female}" data-toggle="tooltip" th:title="#{registration.tooltip.genderFemale}"></label>
                </div>
              </div>
            </div>
          </div>
          
           <div class="input-group">
            <span class="input-group-addon"><span class="glyphicon glyphicon-home"></span></span>
            <div class="row">
              <div class=" has-feedback col-md-6" >
                 <input type="text" th:placeholder="#{registration.label.address}" class="form-control" th:field="*{otherContactAddress.street}" data-toggle="tooltip" th:title="#{registration.label.address}"/>
                 <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
              </div>
              <div class=" has-feedback col-md-6" style="padding-left:0px;">
                <input type="text" th:placeholder="#{registration.label.postcode}" class="form-control" th:field="*{otherContactAddress.postcode}" data-toggle="tooltip" th:title="#{registration.label.postcode}"/>
                <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
              </div>
            </div>
            <div class="row">
             <div class=" has-feedback col-md-6" >
                <input type="text" th:placeholder="#{registration.label.city}" class="form-control" th:field="*{otherContactAddress.city}" data-toggle="tooltip" th:title="#{registration.label.city}"/>
                <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
              </div>
              <div class=" has-feedback col-md-6" style="padding-left:0px;">
                <input type="text" th:placeholder="#{registration.label.state}" class="form-control" th:field="*{otherContactAddress.state}" data-toggle="tooltip" th:title="#{registration.label.state}"/>
                <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
              </div>
             
            </div>
          </div>
          
          <div class="input-group has-feedback col-md-6">
            <span class="input-group-addon"> <span class="glyphicon glyphicon-phone-alt"></span></span>
            <input type="tel" th:placeholder="#{registration.label.phone}" class="form-control" th:field="*{otherContactPhone}" data-toggle="tooltip" th:title="#{registration.label.phone}"/>
            <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
          </div>
        </div>

        <div class="form-group" style="text-align: left">
          <label for="wish" th:text="#{registration.label.wishes}"></label>
          <textarea class="form-control" rows="2" th:field="*{wishes}" id="wish"></textarea>
        </div>
        <div class="form-group checkbox" style="text-align: left;">
          <label><input type="checkbox" th:field="*{healthy}" th:checked="${healthy}" value="${true}"/> <span th:text="#{registration.label.allHealthy}"></span></label>
          <label><input type="checkbox" value="${true}" required/> <span th:text="#{registration.label.agree}"></span> <a href="terms-and-conditions" target="_blank"><span th:text="#{registration.label.terms}"></span></a>.</label>
        </div>
        </fieldset>
        
        <div th:if="${confirmationToken}" class="form-group" style="text-align: left" >
          <label for="comment" th:text="#{registration.label.notes}"></label>
          <textarea class="form-control" rows="2" th:field="*{notes}" id="comment" name="notes"></textarea>
        </div>
        
        <div class="btn-group">
        <div th:if="${confirmationToken == null}">
          <button  type="submit" class="btn btn-primary" th:text="#{registration.button.register}"></button>
          <button type="reset" class="btn btn-primary" th:text="#{registration.button.reset}"></button>
          </div>
           <div th:if="${confirmationToken}">
            <button id="approve" type="button" class="btn btn-primary" th:text="#{registration.button.approve}"></button>
            <button id="reject" type="button" class="btn btn-primary" th:text="#{registration.button.reject}"></button>
           </div>
        </div>
      </form>
      <p class="m-t"></p>

  </div>

 

</body>
</html>
